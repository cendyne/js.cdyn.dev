!function(){const e={};function t(e){const t=e.target;id=t.dataset.iframeId,id&&t.contentWindow.postMessage(JSON.stringify({type:"loaded",id:id}),"*")}let i={root:document,threshold:[0,.1,.5,.8,1]},n=new IntersectionObserver((function(e){for(let t of e){const e=t.target;if(id=e.dataset.iframeId,!id)return;let{isIntersecting:i,intersectionRatio:n}=t;e.contentWindow.postMessage(JSON.stringify({type:"intersection",id:id,isIntersecting:i,intersectionRatio:n}),"*")}}),i);for(let i of document.querySelectorAll("[data-resizing-iframe]")){const r=`iframe-${crypto.randomUUID()}`;i.id||(i.id=r),i.dataset.iframeId=r,e[r]=i.id,i.addEventListener("load",t),n.observe(i)}const r=function(e,t){let i,n=!1;return function(){const r=this,o=arguments;i?(clearTimeout(i),trailing=!0):(e.apply(r,o),n=!1),i=setTimeout((()=>{n&&(e.apply(r,o),i=null)}),t)}}((()=>{for(let e of document.querySelectorAll("[data-resizing-iframe]")){if(id=e.dataset.iframeId,!id)return;e.contentWindow.postMessage(JSON.stringify({type:"resized",id:id}),"*")}}),32);window.addEventListener("resize",(function(){r()})),window.addEventListener("message",(function(t){try{if(""==t.data)return;let i=JSON.parse(t.data),n=i.id;if(!n)return;let r=e[n];if(!r)return;let o=document.getElementById(r);if(!o)return;if("height"==i.type){let e=i.height;"number"==typeof e&&(o.style.height=`${e}px`)}}catch(e){console.error(e)}}))}();
